ðŸš€ AppTrail Agent has been deployed!

{{- if .Values.controlplane.enabled }}

ðŸ“¡ Control Plane Integration: ENABLED
   URL: {{ .Values.controlplane.url }}
   Cluster ID: {{ .Values.controlplane.clusterId }}
   {{- if .Values.controlplane.environment }}
   Environment: {{ .Values.controlplane.environment }}
   {{- end }}
{{- else }}

ðŸ“¡ Control Plane Integration: DISABLED
   Events will only be exported as Prometheus metrics.
   To enable, set:
     controlplane.enabled=true
     controlplane.url=http://apptrail-controlplane:3000/api/v1/events
     controlplane.clusterId=your-cluster-id
{{- end }}

{{- if .Values.slack.enabled }}

ðŸ’¬ Slack Notifications: ENABLED
{{- else }}

ðŸ’¬ Slack Notifications: DISABLED
   To enable, set slack.enabled=true and slack.webhookUrl
{{- end }}

{{- if .Values.metrics.enabled }}

ðŸ“Š Metrics are available at:
   kubectl port-forward svc/{{ include "agent.fullname" . }}-metrics {{ .Values.metrics.service.port }}:{{ .Values.metrics.service.port }} -n {{ .Release.Namespace }}
   Then visit: http://localhost:{{ .Values.metrics.service.port }}/metrics

{{- if .Values.metrics.serviceMonitor.enabled }}
   ServiceMonitor is enabled for Prometheus Operator.
{{- else }}
   To enable Prometheus Operator ServiceMonitor, set metrics.serviceMonitor.enabled=true
{{- end }}
{{- end }}

ðŸ“‹ The agent watches all namespaces for workloads with the label:
   app.kubernetes.io/version

   Add this label to your Deployments, StatefulSets, and DaemonSets to track version changes.

ðŸ“š Documentation: https://github.com/apptrail-sh/agent
